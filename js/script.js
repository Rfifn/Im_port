document.addEventListener("DOMContentLoaded", () => {
    const gradientCircle = document.getElementById("gradientCircle");
  
    if (!gradientCircle) {
      console.error("Element gradientCircle tidak ditemukan!");
      return;
    }
  
    document.addEventListener("mousemove", (e) => {
      const mouseX = e.clientX;
      const mouseY = e.clientY;
  
      gradientCircle.style.transform = `translate(${mouseX - 200}px, ${
        mouseY - 200
      }px)`;
    });
  
    // Set posisi awal di tengah layar
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    gradientCircle.style.transform = `translate(${centerX - 200}px, ${
      centerY - 200
    }px)`;
  });
  
  // Mobile Menu Toggle
  const menuButton = document.getElementById("menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  
  menuButton.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });
  
  // Smooth scrolling for navigation links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
  
      const targetId = this.getAttribute("href");
      const targetElement = document.querySelector(targetId);
  
      if (targetElement) {
        window.scrollTo({
          top: targetElement.offsetTop - 80,
          behavior: "smooth",
        });
  
        // Close mobile menu if open
        if (!mobileMenu.classList.contains("hidden")) {
          mobileMenu.classList.add("hidden");
        }
      }
    });
  });
  
  // Active section highlighting
  const sections = document.querySelectorAll("section");
  const navLinks = document.querySelectorAll("nav a");
  
  window.addEventListener("scroll", () => {
    let current = "";
  
    sections.forEach((section) => {
      const sectionTop = section.offsetTop - 100;
      const sectionHeight = section.clientHeight;
  
      if (pageYOffset >= sectionTop && pageYOffset < sectionTop + sectionHeight) {
        current = section.getAttribute("id");
      }
    });
  
    navLinks.forEach((link) => {
      link.classList.remove("text-red-500");
      link.classList.add("text-gray-600");
  
      if (link.getAttribute("href") === `#${current}`) {
        link.classList.remove("text-gray-600");
        link.classList.add("text-red-500");
      }
    });
  });
  
  // Skill Bar Animation
  document.addEventListener("DOMContentLoaded", function () {
    function isPartiallyInViewport(element) {
      const rect = element.getBoundingClientRect();
      const windowHeight =
        window.innerHeight || document.documentElement.clientHeight;
  
      return rect.top < windowHeight && rect.top + 100 > 0;
    }
  
    const skillBars = document.querySelectorAll(".bg-red-500");
    const skillsSection = document.querySelector("#skills");
  
    const targetWidths = [];
  
    skillBars.forEach((bar) => {
      targetWidths.push(bar.style.width);
      bar.style.width = "0%";
      bar.style.transition = "width 1.2s ease-out";
    });
  
    let animated = false;
  
    function animateSkillBars() {
      if (isPartiallyInViewport(skillsSection) && !animated) {
        skillBars.forEach((bar, index) => {
          setTimeout(() => {
            bar.style.width = targetWidths[index];
          }, index * 150);
        });
        animated = true;
      }
    }
  
    window.addEventListener("scroll", animateSkillBars);
    animateSkillBars();
    const translations = {
      en: {
        nav_home: "Home",
        nav_about: "About",
        nav_projects: "Projects",
        nav_skills: "Skills",
        nav_contact: "Contact",
        home_greeting: "Hello",
        home_welcome: "Welcome!",
        home_tagline: "Where ideas take shape, and creativity knows no limits.",
        home_see_projects: "See Projects",
        home_download_cv: "Download CV",
        about_title: "About Me",
        about_japanese: "About Me in Japanese",
        about_paragraph1: "I am a frontend and backend developer (full-stack developer), writer, and character designer. I focus on developing functional, efficient, and user-friendly web applications while also creating high-quality character designs and creative content.",
        about_paragraph2: "With years of experience in the creative industry, I have developed a unique style and worked with various clients and projects, both in teams and individually.",
        about_skill1_title: "Illustration",
        about_skill1_desc: "Character Design",
        about_skill2_title: "UI/UX Design",
        about_skill2_desc: "Website & Application Design",
        about_skill3_title: "Development",
        about_skill3_desc: "Frontend & Backend",
        about_skill4_title: "Storyboard",
        about_skill4_desc: "Storyboard Design",
        projects_japanese: "Projects in Japanese",
        projects_title: "Projects",
        projects_description: "Collection of best projects and works that I have done over the years.",
        project_tag_design_dev: "UI DESIGN & DEVELOPMENT",
        project_tag_ui_design: "UI DESIGN",
        project1_title: "Ichlar Project",
        project1_description: "Design and development of an interactive solar system learning website with immersive 3D visualizations.",
        project2_title: "Wolu Classroom",
        project2_description: "Design and development of a learning management system for schools.",
        project3_title: "Reycom Document Solusi",
        project3_description: "Design and development of an inventory management system for companies.",
        project4_title: "Ganesha Rent",
        project4_description: "Design and development of a learning management system for schools.",
        project5_title: "UI Design",
        project5_description: "Collection of UI designs for various applications and websites.",
        projects_see_more: "See more",
        skills_title: "Skills",
        skills_title_jp: "Skills",
        skills_title_id: "Skills",
        skills_description: "My skills and expertise in the creative industry, from design to development.",
        skills_design_jp: "Design & Illustration",
        skills_design_id: "Design & Illustration",
        skills_dev_jp: "Development",
        skills_dev_id: "Development",
        skills_illustration: "Anime/Manga Illustration",
        skills_character: "Character Design",
        skills_uiux: "UI/UX Design",
        skills_storyboard: "Storyboarding",
        skills_html: "HTML/CSS",
        skills_js: "JavaScript",
        skills_tailwind: "Tailwind CSS",
        skills_laravel: "Laravel",
        skills_tools_title: "Tools & Software",
        contact_cta_title: "Interested in working together?",
        contact_cta_description: "Let's create something amazing together. Contact me for inquiries or collaborations.",
        contact_cta_button: "Contact Me",
        contact_title: "Contact",
      contact_description: "Have a question or want to work together? Feel free to contact me through the following methods.",
      contact_location_title: "Location",
      contact_location: "Semarang, Center Java, Indonesia",
      contact_email_title: "Email",
      contact_email: "ralphaaditya17@gmail.com",
      contact_phone_title: "Phone",
      contact_phone: "+62 819 0476 9603",
      contact_name: "Name",
      contact_email_label: "Email",
      contact_subject: "Subject",
      contact_message: "Message",
      contact_button: "Send Message",
      footer_title: "Portfolio",
            footer_title_jp: "Indonesia",
            footer_description: "Where ideas take shape, and creativity knows no limits.",
            footer_navigation_title: "Navigation",
            footer_home: "Home",
            footer_about: "About",
            footer_project: "Project",
            footer_skills: "Skills",
            footer_contact: "Contact",
            footer_services_title: "Services",
            footer_service_1: "Character Design",
            footer_service_2: "UI/UX Design",
            footer_service_3: "Web Development",
            footer_service_4: "Design",
            footer_rights: "Â© 2025 Rapipu Portfolio. All rights reserved.",
            footer_instagram: "Instagram",
            footer_github: "Github",
            footer_dribbble: "Dribbble"
      },
      id: {
        nav_home: "Beranda",
        nav_about: "Tentang",
        nav_projects: "Proyek",
        nav_skills: "Keahlian",
        nav_contact: "Kontak",
        home_greeting: "Halo",
        home_welcome: "Selamat Datang!",
        home_tagline: "Tempat ide menjadi nyata, dan kreativitas tanpa batas.",
        home_see_projects: "Lihat Proyek",
        home_download_cv: "Unduh CV",
        about_japanese: "Tentang Saya dalam Bahasa Jepang",
        about_title: "Tentang Saya",
        about_paragraph1: "Saya adalah pengembang frontend dan backend (pengembang full-stack), penulis, dan desainer karakter. Saya fokus pada pengembangan aplikasi web yang fungsional, efisien, dan ramah pengguna sambil juga membuat desain karakter dan konten kreatif berkualitas tinggi.",
        about_paragraph2: "Dengan pengalaman bertahun-tahun di industri kreatif, saya telah mengembangkan gaya unik dan bekerja dengan berbagai klien dan proyek, baik dalam tim maupun secara individu.",
        about_skill1_title: "Ilustrasi",
        about_skill1_desc: "Desain Karakter",
        about_skill2_title: "Desain UI/UX",
        about_skill2_desc: "Desain Website & Aplikasi",
        about_skill3_title: "Pengembangan",
        about_skill3_desc: "Frontend & Backend",
        about_skill4_title: "Storyboard",
        about_skill4_desc: "Desain Storyboard",
        projects_japanese: "Proyek dalam Bahasa Jepang",
        projects_title: "Proyek",
        projects_description: "Kumpulan proyek dan karya terbaik yang telah saya kerjakan selama bertahun-tahun.",
        project_tag_design_dev: "DESAIN UI & PENGEMBANGAN",
        project_tag_ui_design: "DESAIN UI",
        project1_title: "Proyek Ichlar",
        project1_description: "Desain dan pengembangan situs pembelajaran tata surya interaktif dengan visualisasi 3D yang imersif.",
        project2_title: "Kelas Wolu",
        project2_description: "Desain dan pengembangan sistem manajemen pembelajaran untuk sekolah.",
        project3_title: "Reycom Document Solusi",
        project3_description: "Desain dan pengembangan sistem manajemen inventaris untuk perusahaan.",
        project4_title: "Ganesha Rent",
        project4_description: "Desain dan pengembangan sistem manajemen pembelajaran untuk sekolah.",
        project5_title: "Desain UI",
        project5_description: "Kumpulan desain UI untuk berbagai aplikasi dan situs web.",
        projects_see_more: "Lihat lebih banyak",
        skills_title: "Keahlian",
        skills_title_jp: "Keahlian",
        skills_title_id: "Keahlian",
        skills_description: "Keahlian dan pengalaman saya di industri kreatif, dari desain hingga pengembangan.",
        skills_design_jp: "Desain & Ilustrasi",
        skills_design_id: "Desain & Ilustrasi",
        skills_dev_jp: "Pengembangan",
        skills_dev_id: "Pengembangan",
        skills_illustration: "Ilustrasi Anime/Manga",
        skills_character: "Desain Karakter",
        skills_uiux: "Desain UI/UX",
        skills_storyboard: "Storyboard",
        skills_html: "HTML/CSS",
        skills_js: "JavaScript",
        skills_tailwind: "Tailwind CSS",
        skills_laravel: "Laravel",
        skills_tools_title: "Alat & Perangkat Lunak",
        contact_cta_title: "Tertarik bekerja sama?",
        contact_cta_description: "Mari ciptakan sesuatu yang luar biasa bersama. Hubungi saya untuk pertanyaan atau kolaborasi.",
        contact_cta_button: "Hubungi Saya",
        contact_title: "Kontak",
      contact_description: "Ada pertanyaan atau ingin bekerja sama? Silakan hubungi saya melalui metode berikut.",
      contact_location_title: "Lokasi",
      contact_location: "Semarang, Jawa Tengah, Indonesia",
      contact_email_title: "Email",
      contact_email: "ralphaaditya17@gmail.com",
      contact_phone_title: "Telepon",
      contact_phone: "+62 819 0476 9603",
      contact_name: "Nama",
      contact_email_label: "Email",
      contact_subject: "Subjek",
      contact_message: "Pesan",
      contact_button: "Kirim Pesan",
      footer_title: "Portofolio",
            footer_title_jp: "Indonesia",
            footer_description: "Tempat ide menjadi bentuk, dan kreativitas tanpa batas.",
            footer_navigation_title: "Navigasi",
            footer_home: "Beranda",
            footer_about: "Tentang",
            footer_project: "Proyek",
            footer_skills: "Keahlian",
            footer_contact: "Kontak",
            footer_services_title: "Layanan",
            footer_service_1: "Desain Karakter",
            footer_service_2: "Desain UI/UX",
            footer_service_3: "Pengembangan Web",
            footer_service_4: "Desain",
            footer_rights: "Â© 2025 Portofolio Rapipu. Semua hak dilindungi.",
            footer_instagram: "Instagram",
            footer_github: "Github",
            footer_dribbble: "Dribbble"

      },
      jp: {
        nav_home: "ãã¼ã ",
        nav_about: "ç´¹ä»",
        nav_projects: "ãã­ã¸ã§ã¯ã",
        nav_skills: "ã¹ã­ã«",
        nav_contact: "é£çµ¡å",
        home_greeting: "ããã«ã¡ã¯",
        home_welcome: "ããããï¼",
        home_tagline: "ã¢ã¤ãã¢ãå½¢ã«ãªããåµé æ§ã«éçããªãå ´æã§ãã",
        home_see_projects: "ãã­ã¸ã§ã¯ããè¦ã",
        home_download_cv: "å±¥æ­´æ¸ããã¦ã³ã­ã¼ã",
        about_title: "èªå·±ç´¹ä»",
        about_japanese: "æ¥æ¬èªã§ã®èªå·±ç´¹ä»",
        about_paragraph1: "ç§ã¯ãã­ã³ãã¨ã³ãããã³ããã¯ã¨ã³ãéçºï¼ãã«ã¹ã¿ãã¯ï¼ãã©ã¤ã¿ã¼ãããã¦ã­ã£ã©ã¯ã¿ã¼ãã¶ã¤ãã¼ããã¦ãã¾ããæ©è½çã§å¹ççããã¤ã¦ã¼ã¶ã¼ãã¬ã³ããªã¼ãªWebã¢ããªã±ã¼ã·ã§ã³ã®éçºã«æ³¨åããªãããé«åè³ªãªã­ã£ã©ã¯ã¿ã¼ãã¶ã¤ã³ã¨åµé çãªã³ã³ãã³ããå¶ä½ãã¦ãã¾ãã",
        about_paragraph2: "ã¯ãªã¨ã¤ãã£ãæ¥­çã§ã®é·å¹´ã®çµé¨ãéãã¦ãç¬èªã®ã¹ã¿ã¤ã«ãç¢ºç«ãããã¼ã ã¾ãã¯åäººã§æ§ããªã¯ã©ã¤ã¢ã³ãããã­ã¸ã§ã¯ãã«åãçµãã§ãã¾ããã",
        about_skill1_title: "ã¤ã©ã¹ã",
        about_skill1_desc: "ã­ã£ã©ã¯ã¿ã¼ãã¶ã¤ã³",
        about_skill2_title: "UI/UXãã¶ã¤ã³",
        about_skill2_desc: "ã¦ã§ããµã¤ãã¨ã¢ããªã±ã¼ã·ã§ã³ã®ãã¶ã¤ã³",
        about_skill3_title: "éçº",
        about_skill3_desc: "ãã­ã³ãã¨ã³ãï¼ããã¯ã¨ã³ã",
        about_skill4_title: "ã¹ãã¼ãªã¼ãã¼ã",
        about_skill4_desc: "ã¹ãã¼ãªã¼ãã¼ãå¶ä½",
        projects_japanese: "æ¥æ¬èªã§ã®ãã­ã¸ã§ã¯ãç´¹ä»",
        projects_title: "ãã­ã¸ã§ã¯ã",
        projects_description: "ããã¾ã§ã«æãããæé«ã®ãã­ã¸ã§ã¯ããä½åã®ã³ã¬ã¯ã·ã§ã³ã§ãã",
        project_tag_design_dev: "UIãã¶ã¤ã³ï¼éçº",
        project_tag_ui_design: "UIãã¶ã¤ã³",
        project1_title: "ã¤ãã©ã¼ã«ãã­ã¸ã§ã¯ã",
        project1_description: "æ²¡å¥å3Dãã¸ã¥ã¢ã«ãç¨ãããå¤ªé½ç³»ãå­¦ã¶ã¤ã³ã¿ã©ã¯ãã£ããªã¦ã§ããµã¤ãã®ãã¶ã¤ã³ã¨éçºã",
        project2_title: "ã¦ã©ã«ã»ã¯ã©ã¹ã«ã¼ã ",
        project2_description: "å­¦æ ¡åãã®å­¦ç¿ç®¡çã·ã¹ãã ã®ãã¶ã¤ã³ã¨éçºã",
        project3_title: "ã¬ã¤ã³ã ã»ãã­ã¥ã¡ã³ãã»ã½ãªã¥ã¼ã·ã§ã³",
        project3_description: "ä¼æ¥­åãã®å¨åº«ç®¡çã·ã¹ãã ã®ãã¶ã¤ã³ã¨éçºã",
        project4_title: "ã¬ãã¼ã·ã£ã»ã¬ã³ã",
        project4_description: "å­¦æ ¡åãã®å­¦ç¿ç®¡çã·ã¹ãã ã®ãã¶ã¤ã³ã¨éçºã",
        project5_title: "UIãã¶ã¤ã³",
        project5_description: "æ§ããªã¢ããªãã¦ã§ããµã¤ãã®UIãã¶ã¤ã³éã",
        projects_see_more: "ãã£ã¨è¦ã",
        skills_title: "ã¹ã­ã«",
        skills_title_jp: "ã¹ã­ã«",
        skills_title_id: "ã¹ã­ã«",
        skills_description: "ãã¶ã¤ã³ããéçºã¾ã§ãã¯ãªã¨ã¤ãã£ãæ¥­çã«ãããã¹ã­ã«ã¨å°éç¥è­ã",
        skills_design_jp: "ãã¶ã¤ã³ã¨ã¤ã©ã¹ã",
        skills_design_id: "ãã¶ã¤ã³ã¨ã¤ã©ã¹ã",
        skills_dev_jp: "éçº",
        skills_dev_id: "éçº",
        skills_illustration: "ã¢ãã¡ã»ãã³ã¬ã®ã¤ã©ã¹ã",
        skills_character: "ã­ã£ã©ã¯ã¿ã¼ãã¶ã¤ã³",
        skills_uiux: "UI/UXãã¶ã¤ã³",
        skills_storyboard: "ã¹ãã¼ãªã¼ãã¼ã",
        skills_html: "HTML/CSS",
        skills_js: "JavaScript",
        skills_tailwind: "Tailwind CSS",
        skills_laravel: "Laravel",
        skills_tools_title: "ãã¼ã«ã¨ã½ããã¦ã§ã¢",
        contact_cta_title: "ä¸ç·ã«åãã¾ãããï¼",
        contact_cta_description: "ä¸ç·ã«ç´ æ´ããããã®ãä½ãã¾ãããããåãåãããã³ã©ãã¬ã¼ã·ã§ã³ã¯ãã¡ãããã",
        contact_cta_button: "ãåãåãã",
        contact_title: "é£çµ¡å",
      contact_description: "è³ªåãããå ´åãä¸ç·ã«ä»äºããããå ´åã¯ãä»¥ä¸ã®æ¹æ³ã§ãæ°è»½ã«ãåãåãããã ããã",
      contact_location_title: "æå¨å°",
      contact_location: "ã¤ã³ããã·ã¢ãã¸ã§ã°ã¸ã£ã«ã«ã¿ãã»ãã©ã³",
      contact_email_title: "ã¡ã¼ã«",
      contact_email: "ralphaaditya17@gmail.com",
      contact_phone_title: "é»è©±",
      contact_phone: "+62 819 0476 9603",
      contact_name: "åå",
      contact_email_label: "ã¡ã¼ã«ã¢ãã¬ã¹",
      contact_subject: "ä»¶å",
      contact_message: "ã¡ãã»ã¼ã¸",
      contact_button: "ã¡ãã»ã¼ã¸ãéä¿¡",
      footer_title: "ãã¼ããã©ãªãª",
            footer_title_jp: "ã¤ã³ããã·ã¢",
            footer_description: "ã¢ã¤ãã¢ãå½¢ã«ãªããåµé æ§ã«éçã¯ãªãã",
            footer_navigation_title: "ããã²ã¼ã·ã§ã³",
            footer_home: "ãã¼ã ",
            footer_about: "ã¢ãã¦ã",
            footer_project: "ãã­ã¸ã§ã¯ã",
            footer_skills: "ã¹ã­ã«",
            footer_contact: "é£çµ¡å",
            footer_services_title: "ãµã¼ãã¹",
            footer_service_1: "ã­ã£ã©ã¯ã¿ã¼ãã¶ã¤ã³",
            footer_service_2: "UI/UXãã¶ã¤ã³",
            footer_service_3: "ã¦ã§ãéçº",
            footer_service_4: "ãã¶ã¤ã³",
            footer_rights: "Â© 2025 Rapipuãã¼ããã©ãªãªããã¹ã¦ã®æ¨©å©ãä¿æã",
            footer_instagram: "ã¤ã³ã¹ã¿ã°ã©ã ",
            footer_github: "ã®ãããã",
            footer_dribbble: "ããªãã«"
      }
    };
    
    const selector = document.getElementById("languageSelector");
    
    selector.addEventListener("change", function () {
      const selectedLang = this.value;
      updateLanguage(selectedLang);
      localStorage.setItem("preferredLang", selectedLang);
    });
    
    function updateLanguage(lang) {
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
    }
    
    // Load saved language
    document.addEventListener("DOMContentLoaded", function() {
      const savedLang = localStorage.getItem("preferredLang") || "en";
      selector.value = savedLang;
      updateLanguage(savedLang);
    });
    
    // If page is already loaded
    if (document.readyState === "complete" || document.readyState === "interactive") {
      const savedLang = localStorage.getItem("preferredLang") || "en";
      selector.value = savedLang;
      updateLanguage(savedLang);
    }
  });